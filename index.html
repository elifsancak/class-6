<!DOCTYPE html>
<html>

<head>
  <meta charset='utf-8'>
  <meta http-equiv='X-UA-Compatible' content='IE=edge'>
  <title>class 6</title>
  <meta name='viewport' content='width=device-width, initial-scale=1'>


  <script src='class-data/students.js'></script>
  <script src='class-data/modules.js'></script>
  <script src='views/home.js'></script>
  <script src='views/module.js'></script>
  <script src='views/student.js'></script>
  <script src='views/repo.js'></script>
  <script src='views/links.js'></script>
  <script src='views/link-buttons.js'></script>
  <script src='views/student-thumbnail.js'></script>

  <script>
    window.onload = () => {
      const urlString = window.location.href;
      const url = new URL(urlString);

      const studentParam = url.searchParams.get("student");
      const moduleParam = url.searchParams.get("module");

      if (studentParam) {
        console.log('in student')
        document.getElementById('root').innerHTML = '';
        const theStudent = students.filter(s => s.name === studentParam)[0];
        document.getElementById('root').appendChild(renderStudent(theStudent, modules));
      } else if (moduleParam) {
        console.log('in module')
        document.getElementById('root').innerHTML = '';
        const theModule = modules.filter(m => m.name === moduleParam)[0];
        document.getElementById('root').appendChild(renderModule(theModule, students));
      }
    }
  </script>
</head>

<body>

  <button id='go-home-top'>back to index</button>
  <script>
    document.getElementById('go-home-top').onclick = () => {
      document.getElementById('root').innerHTML = '';
      document.getElementById('root').appendChild(renderHome(modules, students));
    }
  </script>

  <div id='root'></div>

  <button id='go-home-bottom'>back to index</button>
  <script>
    document.getElementById('go-home-bottom').onclick = () => {
      document.getElementById('root').innerHTML = '';
      document.getElementById('root').appendChild(renderHome(modules, students));
    }

    document.getElementById('root').innerHTML = '';
    document.getElementById('root').appendChild(renderHome(modules, students));
  </script>
  <br>
  <hr>
  <br>
  <a href='https://github.com/hackyourfuturebelgium/class-6' target='_blank'>
    <button>to main repository</button>
  </a>

  <br>
  <br>
  <hr>
  <hr>
  <a href="https://hackyourfuture.be" target="_blank"><img
      src="https://user-images.githubusercontent.com/18554853/63941625-4c7c3d00-ca6c-11e9-9a76-8d5e3632fe70.jpg"
      width="100" height="100"></a>


</body>

</html>
